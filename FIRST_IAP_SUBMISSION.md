# 📦 첫 번째 인앱 구매 제출 가이드

## 📋 Apple 정책

**첫 번째 인앱 구매는 반드시 앱 버전과 함께 제출해야 합니다.**

이후에는 인앱 구매를 독립적으로 제출할 수 있습니다.

---

## ✅ 단계별 진행 방법

### 1단계: 인앱 구매 상품 생성 (완료)

1. App Store Connect > 내 앱 > Petgram
2. **기능** > **인앱 구매** > **+** 버튼
3. 상품 정보 입력:
   - 상품 ID: `donation_1000`
   - 타입: 비소모성 인앱 구매
   - 가격: 설정
   - 현지화 정보 입력
4. **저장** 클릭
5. ✅ 상품이 생성되었지만 아직 제출되지 않음

---

### 2단계: 앱 버전 생성

1. App Store Connect > 내 앱 > Petgram
2. 왼쪽 메뉴에서 **앱 스토어** 클릭
3. **+ 버전** 또는 **버전 또는 플랫폼 추가** 클릭
4. 버전 정보 입력:
   - 버전: `1.0.0` (또는 원하는 버전)
   - 빌드: 아직 선택하지 않음 (나중에 업로드)

---

### 3단계: 앱 빌드 업로드 (Xcode에서)

1. **Xcode에서 Archive**
   ```bash
   open ios/Runner.xcodeproj
   ```
   - Product > Destination > Any iOS Device
   - Product > Archive

2. **App Store Connect에 업로드**
   - Archive 완료 후 **Distribute App** 클릭
   - **App Store Connect** 선택
   - **Upload** 선택
   - 업로드 완료까지 대기 (몇 분 소요)

3. **빌드 처리 대기**
   - App Store Connect에서 빌드가 처리될 때까지 대기
   - 보통 몇 분~몇 시간 소요
   - **앱 스토어** > **버전** 페이지에서 빌드 확인 가능

---

### 4단계: 버전 페이지에서 인앱 구매 선택

1. App Store Connect > 내 앱 > Petgram
2. **앱 스토어** > **버전** (또는 생성한 버전 클릭)
3. 페이지 아래쪽으로 스크롤
4. **앱 내 구입 및 구독** 섹션 찾기
5. **+** 버튼 클릭
6. `donation_1000` 상품 선택
7. **완료** 클릭

---

### 5단계: 앱 정보 입력 (필수)

버전 페이지에서 다음 정보 입력:

#### 앱 정보
- [ ] 앱 미리보기 (설명)
- [ ] 키워드
- [ ] 지원 URL
- [ ] 마케팅 URL (선택사항)

#### 스크린샷
- [ ] iPhone 6.7" 스크린샷 (최소 1장, 권장 3-5장)
- [ ] iPhone 6.5" 스크린샷 (선택사항)
- [ ] iPhone 5.5" 스크린샷 (선택사항)

#### 개인정보 처리방침
- [ ] 개인정보 처리방침 URL (위치 정보 사용 시 필요)

---

### 6단계: 검토를 위해 제출

1. 모든 필수 정보 입력 완료 확인
2. **앱 내 구입 및 구독** 섹션에서 `donation_1000` 선택 확인
3. **검토를 위해 제출** 버튼 클릭
4. 확인 다이얼로그에서 **제출** 클릭

---

## 📝 체크리스트

### 인앱 구매
- [ ] 인앱 구매 상품 생성 완료 (`donation_1000`)
- [ ] 상품 정보 입력 완료
- [ ] 저장 완료

### 앱 버전
- [ ] 앱 버전 생성 (1.0.0)
- [ ] 빌드 업로드 완료
- [ ] 빌드 처리 완료 확인

### 버전 페이지 설정
- [ ] 앱 내 구입 및 구독 섹션에서 `donation_1000` 선택
- [ ] 앱 정보 입력 완료
- [ ] 스크린샷 업로드 완료
- [ ] 개인정보 처리방침 URL 입력 (필요한 경우)

### 제출
- [ ] 검토를 위해 제출 클릭
- [ ] 제출 완료 확인

---

## ⏱️ 예상 소요 시간

1. **인앱 구매 생성**: 5분
2. **빌드 업로드**: 10-30분 (빌드 크기에 따라)
3. **빌드 처리**: 10분~2시간
4. **앱 정보 입력**: 30분~1시간
5. **Apple 검토**: 1-3일

---

## 🎯 현재 해야 할 일

### 지금 바로
1. ✅ 인앱 구매 상품은 이미 생성됨
2. ⏳ Xcode에서 Archive 및 업로드
3. ⏳ App Store Connect에서 빌드 처리 대기
4. ⏳ 버전 페이지에서 인앱 구매 선택
5. ⏳ 앱 정보 입력 및 제출

---

## 💡 팁

### 빌드 업로드 전에
- 앱 정보를 미리 준비해두면 시간 절약
- 스크린샷 미리 준비
- 개인정보 처리방침 URL 준비 (필요한 경우)

### 빌드 처리 중
- 빌드가 처리되는 동안 앱 정보 입력 가능
- 빌드가 완료되면 자동으로 연결됨

### 인앱 구매 검토
- 첫 번째 인앱 구매는 앱과 함께 검토
- 이후 인앱 구매는 독립적으로 제출 가능

---

## 🆘 문제 해결

### "빌드를 선택할 수 없습니다"
- **원인**: 빌드가 아직 처리 중
- **해결**: 빌드 처리 완료까지 대기

### "인앱 구매를 찾을 수 없습니다"
- **원인**: 인앱 구매가 생성되지 않았거나 저장되지 않음
- **해결**: 기능 > 인앱 구매에서 상품 확인

### "앱 정보가 누락되었습니다"
- **원인**: 필수 정보 미입력
- **해결**: 버전 페이지에서 모든 필수 항목 입력

---

## 🎉 완료 후

제출이 완료되면:
1. **검토 중** 상태로 변경됨
2. Apple 검토 대기 (1-3일)
3. 검토 완료 후 앱 스토어에 출시
4. 인앱 구매도 함께 활성화됨

---

## 📌 요약

**순서:**
1. ✅ 인앱 구매 생성 (완료)
2. ⏳ 앱 빌드 업로드 (Xcode에서)
3. ⏳ 버전 페이지에서 인앱 구매 선택
4. ⏳ 앱 정보 입력
5. ⏳ 검토 제출

**핵심:** 첫 번째 인앱 구매는 반드시 앱 버전과 함께 제출해야 합니다!

